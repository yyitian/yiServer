{"version":3,"sources":["webpack:///./src/views/gluttonousSnake.vue?a597","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/views/gluttonousSnake.vue?2fda","webpack:///src/views/gluttonousSnake.vue","webpack:///./src/views/gluttonousSnake.vue?e6d4","webpack:///./src/views/gluttonousSnake.vue"],"names":["$export","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","MATCH","module","exports","KEY","re","e","f","$includes","el","isObject","cof","it","isRegExp","defined","that","NAME","TypeError","String","render","_vm","_h","$createElement","_c","_self","staticClass","on","refreshFood","_v","style","_l","item","index","key","getStyle","x","y","rotate","staticRenderFns","component"],"mappings":"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","file":"js/chunk-3cdeb05a.3e9825e3.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gluttonousSnake.vue?vue&type=style&index=0&id=62e444ac&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gluttonousSnake.vue?vue&type=style&index=0&id=62e444ac&lang=scss&scoped=true&\"","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gluttonousSnake\"},[_c('div',{staticClass:\"top\"},[_c('p',{on:{\"click\":_vm.refreshFood}},[_vm._v(\"按下空格开始游戏\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"food\",style:(_vm.foodCoordinate)}),_c('div',{staticClass:\"snake\"},_vm._l((_vm.snakeNode),function(item,index){return _c('div',{key:index,style:(_vm.getStyle(item.x, item.y, item.rotate))})}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"gluttonousSnake\">\n        <div class=\"top\">\n            <p @click=\"refreshFood\">按下空格开始游戏</p>\n        </div>\n        <div class=\"container\">\n            <div class=\"food\" :style=\"foodCoordinate\"></div>\n            <div class=\"snake\">\n                <div\n                    v-for=\"(item, index) in snakeNode\"\n                    :key=\"index\"\n                    :style=\"getStyle(item.x, item.y, item.rotate)\"\n                ></div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            key: 37,\n            keyList: [37, 38, 39, 40],\n            foodCoordinate: {\n                left: 0,\n                top: 0\n            },\n            snakeNode: [\n                { x: 112, y: 304, rotate: 0 },\n                { x: 128, y: 304, rotate: 0 },\n                { x: 144, y: 304, rotate: 0 },\n                { x: 160, y: 304, rotate: 0 },\n                { x: 176, y: 304, rotate: 0 }\n            ],\n            timer: null,\n            over: false\n        };\n    },\n    computed: {\n        getStyle() {\n            return (x, y, rotate = 0) => {\n                return {\n                    left: `${x}px`,\n                    top: `${y}px`,\n                    transform: `rotate(${rotate}deg)`\n                };\n            };\n        }\n    },\n    methods: {\n        // 随机数\n        randomNum(min, max) {\n            return parseInt(Math.random() * (max - min + 1) + min, 10) * 16;\n        },\n        // 刷新食物坐标\n        refreshFood() {\n            const x = this.randomNum(0, 18);\n            const y = this.randomNum(0, 37);\n            this.foodCoordinate = {\n                left: `${x}px`,\n                top: `${y}px`\n            };\n        },\n        // 运动执行\n        excute(direction) {\n            let snakeNode = this.snakeNode;\n            let defaultKey = 37;\n            let rotate = 0;\n            let { x: refX, y: refY } = snakeNode[0];\n            switch (direction) {\n                case 38: // 上\n                    refY = refY - 16;\n                    defaultKey = 40;\n                    rotate = 90;\n                    break;\n                case 40: // 下\n                    defaultKey = 38;\n                    refY = refY + 16;\n                    rotate = -90;\n                    break;\n                case 37: // 左\n                    defaultKey = 39;\n                    refX = refX - 16;\n                    rotate = 0;\n                    break;\n                case 39: // 右\n                    defaultKey = 37;\n                    refX = refX + 16;\n                    rotate = 180;\n                    break;\n            }\n            // 不许回头\n            if (refX === snakeNode[1][\"x\"] && refY === snakeNode[1][\"y\"]) {\n                console.log(\"不许回头\");\n                this.key = defaultKey;\n                return false;\n            }\n\n            // 自己撞自己\n            const die = this.snakeNode.filter(item => {\n                return item.x === refX && item.y === refY;\n            });\n            if (die.length > 0) {\n                console.log(\"自己撞自己\");\n                this.gameover();\n                return false;\n            }\n\n            // 撞墙\n            if (refX < 0 || refX > 296 || refY < 0 || refY > 592) {\n                console.log(\"撞墙\");\n                this.gameover();\n                return false;\n            }\n\n            // 吃到食物\n            if (\n                `${refX}px` === this.foodCoordinate.left &&\n                `${refY}px` === this.foodCoordinate.top\n            ) {\n                console.log(\"eating\");\n                const last = snakeNode[snakeNode.length - 1];\n                snakeNode.push(last);\n                this.refreshFood();\n            }\n            // 运动路线：从第二节起直接取前一节上一步的值即可\n            this.snakeNode = snakeNode.map((item, index) => {\n                return {\n                    x: index === 0 ? refX : snakeNode[index - 1][\"x\"],\n                    y: index === 0 ? refY : snakeNode[index - 1][\"y\"],\n                    rotate:\n                        index === 0 ? rotate : snakeNode[index - 1][\"rotate\"]\n                };\n            });\n        },\n        // 自动\n        runing() {\n            let key = this.key;\n            if (!this.over) {\n                this.excute(key);\n                this.timer = window.setTimeout(() => {\n                    this.runing();\n                }, 100);\n            }\n        },\n        // 开始/暂停\n        toggle() {\n            if (this.over || this.timer !== null) {\n                window.clearTimeout(this.timer);\n                this.timer = null;\n            } else {\n                this.runing();\n                console.log(\"runing\");\n            }\n        },\n        // 游戏结束\n        gameover() {\n            this.over = true;\n            console.log(\"game over\");\n        },\n        // 初始化\n        init() {\n            this.over = false;\n            this.refreshFood();\n            this.snakeNode = [\n                { x: 112, y: 304 },\n                { x: 128, y: 304 },\n                { x: 144, y: 304 },\n                { x: 160, y: 304 },\n                { x: 176, y: 304 }\n            ];\n        }\n    },\n    mounted() {\n        this.init();\n        document.onkeydown = () => {\n            let key = window.event.keyCode;\n            // 方向键\n            if (this.keyList.includes(key)) {\n                this.key = key;\n                return;\n            }\n            // 空格\n            if (key === 32) {\n                this.toggle();\n                return;\n            }\n            // 回车重开(死亡后)\n            if (key === 13 && this.over) {\n                this.init();\n                return;\n            }\n        };\n    }\n};\n</script>\n<style lang=\"scss\" scoped>\n.gluttonousSnake {\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.top {\n    width: 100%;\n    height: 60px;\n    text-align: center;\n}\n.container {\n    width: 304px;\n    height: 608px;\n    border: tan solid 1px;\n    position: relative;\n    // box-sizing: border-box;\n    .food {\n        position: absolute;\n        width: 16px;\n        height: 16px;\n        background: brown;\n    }\n    .snake {\n        div {\n            position: absolute;\n            width: 16px;\n            height: 16px;\n            background: url(\"../assets/snake/body.png\") no-repeat center / 16px;\n            &:first-child {\n                background: url(\"../assets/snake/head.png\") no-repeat center /\n                    16px;\n                // background: crimson;\n            }\n            &:last-child {\n                background: url(\"../assets/snake/tail.png\") no-repeat center /\n                    16px;\n                // background: crimson;\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gluttonousSnake.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gluttonousSnake.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gluttonousSnake.vue?vue&type=template&id=62e444ac&scoped=true&\"\nimport script from \"./gluttonousSnake.vue?vue&type=script&lang=js&\"\nexport * from \"./gluttonousSnake.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gluttonousSnake.vue?vue&type=style&index=0&id=62e444ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62e444ac\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}